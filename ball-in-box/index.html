<!DOCTYPE html>
<html lang="en">
<!-- https://plnkr.co/edit/8dwHzsyytfPDr08F?p=preview&preview -->

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="app.js" defer></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Ball in Box</title>
</head>

<body>
    <div class="container">
        <div class="ball"></div>
    </div>
</body>
<script>
    const container = document.querySelector('.container');
    const ball = document.querySelector('.ball');
    // container position
    const data = container.getBoundingClientRect();
    console.log(data);

    container.addEventListener('click', (e) => {
        // ball position

        let ballTop = 0;
        let ballLeft = 0;
        let ballfuture = {
            top: e.clientY - data.top - ball.clientHeight / 2,
            left: e.clientX - data.left - ball.clientWidth / 2,
        }
        ballTop = ballfuture.top;
        ballLeft = ballfuture.left;

        if (ballfuture.top < 0) {
            ballTop = 0;
        }
        if (ballfuture.left < 0) {
            ballLeft = 0;
        }
        if ((ballfuture.left + ball.clientWidth) > data.width) {
            ballLeft = container.clientWidth - ball.clientWidth;
        }
        if ((ballfuture.top + ball.clientHeight) > data.height) {
            ballTop = container.clientHeight - ball.clientHeight;
        }
        ball.style.left = ballLeft + 'px';
        ball.style.top = ballTop + 'px';
        console.log(ballfuture);

    })

</script>

</html>